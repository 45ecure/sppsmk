import{r as p,o as c,a as b,c as h,d as g,w as l,_ as i,F as k,b as e,h as m,q as _,t as n,x as o,E as u}from"./index.7cbdcbda.js";import{_ as f}from"./Table.d38c6265.js";const x=e("div",{class:"mb-4 pb-2 border-b text-xl"},"Laporan Tunggakan",-1),y=e("div",{class:"bg-gray-100 rounded p-4 mb-4"}," Data diambil berdasarkan tunggakan sampai akhir tahun ajaran. ",-1),T={class:"text-right mb-4 text-sm"},j=["href"],v=["href"],E={class:"bg-gray-100 p-4 rounded"},S={__name:"tunggakan",setup(P){const t=p({data:{items:[],total_spp:0,total_tabungan:0},print_url:"",excel_url:""});function d(){m.get("/laporan/tunggakan").then(s=>(t.print_url=s.headers.get("X-Print-Url"),t.excel_url=s.headers.get("X-Excel-Url"),s.json())).then(s=>{t.data.items=s,s.forEach(r=>{t.data.total_spp+=(r.pembayaran_total-r.terbayar)*r.jumlah_spp,t.data.total_tabungan+=(r.pembayaran_total-r.terbayar)*r.jumlah_tabungan})})}return c(()=>{d()}),(s,r)=>(b(),h(k,null,[x,g(i,null,{default:l(()=>[y,e("div",T,[e("a",{target:"_blank",href:t.excel_url,class:"mr-4 text-green-500"},"EXCEL",8,j),e("a",{target:"_blank",href:t.print_url,class:"text-red-500"},"PRINT",8,v)]),g(f,{keys:{Kelas:"kelas",Jumlah_Tunggakan:"jumlah_tunggakan",Tunggakan_SPP:"tunggakan_spp",Tunggakan_Tabsis:"tunggakan_tabsis"},items:t.data.items},{kelas:l(({item:a})=>[_(n(a.kelas)+" "+n(a.jurusan_kode)+" "+n(a.rombel),1)]),jumlah_tunggakan:l(({item:a})=>[_(n(a.pembayaran_total-a.terbayar),1)]),tunggakan_spp:l(({item:a})=>[_(n(o(u)((a.pembayaran_total-a.terbayar)*a.jumlah_spp)),1)]),tunggakan_tabsis:l(({item:a})=>[_(n(o(u)((a.pembayaran_total-a.terbayar)*a.jumlah_tabungan)),1)]),_:1},8,["items"]),e("div",E,[e("div",null,"Total Tunggakan SPP : "+n(o(u)(t.data.total_spp)),1),e("div",null,"Total Tunggakan Tabsis : "+n(o(u)(t.data.total_tabungan)),1)])]),_:1})],64))}};export{S as default};
