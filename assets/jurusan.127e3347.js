import{r as w,e as c,o as S,a as r,c as i,d as l,w as n,_,m as g,F as k,b as t,h as b,n as d,u as V,t as u,x as J,k as N,i as m,v as h,p as E,q as v,s as M,E as T}from"./index.7cbdcbda.js";const U=t("div",{class:"mb-4 pb-2 border-b text-xl"},"Data Jurusan",-1),P={class:"form-field"},C={key:0,class:"grid lg:grid-cols-5 grid-cols-2 gap-3"},$={class:"border group border-gray-100 relative"},B={class:"absolute -top-1 right-1 bg-white shadow rounded-b px-2 text-sm z-3 uppercase"},L={class:"text-2xl transform group-hover:bg-blue-500 bg-gray-50 group-hover:text-white transition text-blue-500 font-semibold text-center py-10"},D={style:{"font-family":`'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande',\r
								'Lucida Sans Unicode', Geneva, Verdana, sans-serif`},class:"text-shadow"},K={class:"p-2 text-center"},O={class:"border-b mb-2 pb-1 text-xs font-semibold"},F=["onClick"],G=["onClick"],H={key:1,class:"p-3 border border-gray-100 text-center"},I=t("label",{for:""},"Kode",-1),W=t("label",{for:""},"Nama",-1),z=t("label",{for:""},"Kategori",-1),A=t("option",{value:""},"Pilih Kategori",-1),R=t("option",{value:"1"},"Bisnis",-1),Q=t("option",{value:"2"},"Teknik",-1),X=[A,R,Q],Y=t("label",{for:""},"Jumlah SPP",-1),Z=t("label",{for:""},"Tabungan Wajib",-1),ee=t("div",{class:"text-right mt-5"},[t("button",null,"Simpan")],-1),te=["onSubmit"],ae=t("div",{class:"text-right mt-5"},[t("button",{class:"!bg-red-500"},"Hapus")],-1),le={__name:"jurusan",setup(se){const e=w({isEdit:!1,modal:{save:!1,delete:!1},data:{items:[]},req:{kode:"",nama:"",kategori:"",jumlah_spp:0,tabungan_wajib:0}}),x={kode:c.string().required(),nama:c.string().required(),kategori:c.string().required(),jumlah_spp:c.number().required()};function f(){e.req={kode:"",nama:"",kategori:"",jumlah_spp:0,tabungan_wajib:0}}function p(){f(),b.get("/jurusan").then(a=>a.json()).then(a=>e.data.items=a).catch(a=>{d(a,"bg-red-400")})}function q(){e.isEdit?b.put("/jurusan/"+e.req.old_kode,e.req).then(a=>a.json()).then(a=>{d("data berhasil diedit"),e.modal.save=!1,p()}).catch(a=>d(a,"bg-red-400")):b.post("/jurusan",e.req).then(a=>a.json()).then(a=>{d("data berhasil ditambah"),e.modal.save=!1,p()}).catch(a=>d(a,"bg-red-400"))}function j(){b.delete("/jurusan/"+e.req.old_kode).then(a=>a.json()).then(a=>{d("data berhasil dihapus"),e.modal.delete=!1,p()}).catch(a=>d(a,"bg-red-400"))}return S(()=>{p()}),(a,o)=>(r(),i(k,null,[U,l(_,{class:"mb-4"},{default:n(()=>[t("div",P,[t("button",{onClick:o[0]||(o[0]=s=>{e.isEdit=!1,f(),e.modal.save=!0}),class:"mr-2"}," + Tambah ")])]),_:1}),l(_,{class:"mb-4"},{default:n(()=>[e.data.items.length?(r(),i("div",C,[(r(!0),i(k,null,V(e.data.items,s=>(r(),i("div",$,[t("div",B,u(s.kategori=="1"?"Bisnis":"Teknik"),1),t("div",L,[t("span",D,u(s.kode),1)]),t("div",K,[t("div",O," SPP: "+u(J(T)(parseInt(s.jumlah_spp)+parseInt(s.tabungan_wajib))),1),t("button",{onClick:y=>{e.modal.save=!0,e.isEdit=!0,e.req=JSON.parse(JSON.stringify(s)),e.req.old_kode=e.req.kode},class:"material-icons-outlined text-blue-500 !text-xl"}," edit ",8,F),t("button",{onClick:y=>{e.modal.delete=!0,e.req=JSON.parse(JSON.stringify(s)),e.req.old_kode=e.req.kode},class:"material-icons-outlined text-red-500 !text-xl"}," delete ",8,G)])]))),256))])):(r(),i("div",H,"Data tidak tersedia."))]),_:1}),l(g,{modelValue:e.modal.save,"onUpdate:modelValue":o[6]||(o[6]=s=>e.modal.save=s)},{default:n(()=>[l(_,{title:e.isEdit?"Edit Jurusan":"Tambah Jurusan",class:"w-550px max-w-full"},{default:n(()=>[l(N,{class:"form-field",values:e.req,rules:x,onSubmit:q},{default:n(()=>[I,m(t("input",{type:"text",placeholder:"Masukkkan Kode","onUpdate:modelValue":o[1]||(o[1]=s=>e.req.kode=s)},null,512),[[h,e.req.kode]]),W,m(t("input",{type:"text",placeholder:"Masukkan Nama","onUpdate:modelValue":o[2]||(o[2]=s=>e.req.nama=s)},null,512),[[h,e.req.nama]]),z,m(t("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>e.req.kategori=s)},X,512),[[E,e.req.kategori]]),Y,m(t("input",{type:"number",placeholder:"Masukkan Jumlah SPP","onUpdate:modelValue":o[4]||(o[4]=s=>e.req.jumlah_spp=s)},null,512),[[h,e.req.jumlah_spp]]),Z,m(t("input",{type:"number",placeholder:"Tabungan Wajib","onUpdate:modelValue":o[5]||(o[5]=s=>e.req.tabungan_wajib=s)},null,512),[[h,e.req.tabungan_wajib]]),ee]),_:1},8,["values"])]),_:1},8,["title"])]),_:1},8,["modelValue"]),l(g,{modelValue:e.modal.delete,"onUpdate:modelValue":o[7]||(o[7]=s=>e.modal.delete=s)},{default:n(()=>[l(_,{title:"Hapus Jurusan",class:"w-550px max-w-full"},{default:n(()=>[t("form",{class:"form-field",onSubmit:M(j,["prevent"])},[t("p",null,[v(" Anda yakin menghapus jurusan "),t("strong",null,u(e.req.kode)+" ("+u(e.req.nama)+")",1),v("? ")]),ae],40,te)]),_:1})]),_:1},8,["modelValue"])],64))}};export{le as default};
