import{B as n,o as x,M as w,z as _,C as V,a as r,c as u,i as g,v as k,b as d,N as C,F as b,u as y,O as E,y as L,q as B,t as F}from"./index.7cbdcbda.js";const O={class:"overflow-y-auto max-h-200px"},z=["onClick"],M={inheritAttrs:!1},$=Object.assign(M,{__name:"AutoComplete",props:["items","modelValue"],emits:["update:modelValue"],setup(m,{emit:c}){const t=m,o=n(!1),a=n(""),v=n(null),i=n(t.items);function p(e){c("update:modelValue",e.value),a.value=e.text,o.value=!1}function f(e){e.path.indexOf(v.value)<0&&(o.value=!1);let l=!1;t.items.forEach(s=>{s.text==a.value&&(l=!0)}),l||(c("update:modelValue",""),a.value="")}function h(e){o.value=!0,e.target.select()}return x(()=>{window.addEventListener("click",f)}),w(()=>{window.removeEventListener("click",f)}),_(a,e=>{i.value=t.items.filter(l=>l.text.toLowerCase().indexOf(e.toLowerCase())>=0)}),V(()=>{t.modelValue?t.items.forEach(e=>{e.value==t.modelValue&&(a.value=e.text)}):a.value="",t.items&&(i.value=t.items)}),(e,l)=>(r(),u("div",{class:"relative",ref_key:"el",ref:v},[g(d("input",C({type:"text"},e.$attrs,{onFocus:h,"onUpdate:modelValue":l[0]||(l[0]=s=>a.value=s)}),null,16),[[k,a.value]]),d("div",{class:E(["bg-white shadow absolute bottom-2 left-0 z-10 right-0 transform translate-y-full rounded py-1",{hidden:!o.value}])},[d("div",O,[(r(!0),u(b,null,y(i.value,s=>(r(),u("div",{class:"hover:bg-blue-400 hover:text-white p-1.5 px-2 cursor-pointer transition",onClick:N=>p(s)},[L(e.$slots,"default",{item:s},()=>[B(F(s.text),1)])],8,z))),256))])],2)],512))}});export{$ as _};
